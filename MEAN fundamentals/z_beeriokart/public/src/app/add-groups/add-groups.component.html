
<h2 class="animated slideInRight slow">Add Groups</h2>
<mat-tab-group class="animated slideInLeft slow">
  <mat-tab label="Add Groups">
    <ng-template matTabContent>
      <mat-vertical-stepper [linear]="true" #stepper>
        <mat-step>
          <form>
            <ng-template matStepLabel>Group Size</ng-template>
            <mat-form-field>
              <input matInput type="number" min=1 max=3 [(ngModel)]="_groupInfo.groupSize" required (submit)="updateGroupSize()" name="groupSize">
              <mat-hint>Enter 1 - 3 (you are player 4!)</mat-hint>
            </mat-form-field>
            <div>
              <button mat-button matStepperNext (click)="updateGroupSize()" *ngIf="_groupInfo.groupSize > 0 && _groupInfo.groupSize < 4" class="animated fadeIn faster">Next</button>
              <button mat-button matStepperNext (click)="updateGroupSize()" *ngIf="_groupInfo.groupSize > 3 || _groupInfo.groupSize < 1" disabled>Next</button>
            </div>
          </form>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Fill out player names</ng-template>
          <div *ngIf="_groupInfo.groupSize < 1 || _groupInfo.groupSize > 3 || !_groupSizeUpdated">  
            Enter a valid group size first!
          </div>
          <form>
            <mat-form-field *ngFor="let user of _tempGroupArray; let i = index">
              <input matInput required name="[i + 2]" [(ngModel)]="_groupInfo[i + 2]" placeholder="Player {{i + 2}}">
            </mat-form-field>
            <div>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <mat-step [stepControl]="">
          <ng-template matStepLabel>Submit</ng-template>
          <div>
            <div *ngIf="_groupInfo.groupSize < 1 || _groupInfo.groupSize > 3 || !_groupSizeUpdated">  
              Enter a valid group size first!
            </div>
            <div *ngFor="let error of _errorMessages" class="animated fadeIn slow">
              <p>{{ error }}</p>
            </div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
            <button mat-button (click)="validateData()" *ngIf="_groupInfo.groupSize < 1 || _groupInfo.groupSize > 3 || !_groupSizeUpdated" disabled>Submit</button>
            <button mat-button (click)="validateData()" *ngIf="_groupInfo.groupSize > 0 && _groupInfo.groupSize < 4 && _groupSizeUpdated" class="animated fadeIn faster">Submit</button>
          </div>
        </mat-step>
      </mat-vertical-stepper>
    </ng-template>
  </mat-tab>

  <!-- <mat-tab label="Delete Groups">
    <ng-template matTabContent>
      <mat-card *ngFor="let group of _userGroups; let i = index">
        <mat-card-header>
          <mat-card-subtitle>Group {{i + 1}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div *ngFor="let player of group['users']" class='players'>
            {{ player }} &nbsp;  &nbsp;  &nbsp;  &nbsp;
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button (click)="deleteGroup(group['_id'])">Delete</button>
        </mat-card-actions>
      </mat-card>
    </ng-template>
  </mat-tab> -->
</mat-tab-group>
